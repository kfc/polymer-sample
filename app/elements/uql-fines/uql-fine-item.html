<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="../uql-info/uql-info-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">

<script src="/scripts/filter-date.js"></script>

<polymer-element name="uql-fine-item" attributes="item view">

  <template>
    <link rel="stylesheet" href="/styles/uql-info.css">

      <paper-item horizontal on-click="{{showDetails}}" hidden?="{{ view != 'full'}}">
          <span flex>
            <div class="itemPrimaryText">{{ item.title }}</div>
            <div class="itemSecondaryText">{{ item.fineAmount | moneyFormat }}</div>
          </span>
      <core-icon icon="chevron-right" horizontal layout end></core-icon>
    </paper-item>



    <div id="detailsWrapper" hidden?="{{ view != 'details'}}">
      <div horizontal center-justified layout>
        <uql-info-item item="{{item}}">
          <div class="subtitle">
            Due Date: {{ item.dueDate | date('dd/MM/yyyy') }}<br>
            Date Returned: {{ item.dateReturned | date('dd/MM/yyyy') }}<br>
            Fine Amount: {{ item.fineAmount | moneyFormat }}
          </div>
          <content></content>
        </uql-info-item>
      </div>
    </div>





  </template>

  <script>
    Polymer('uql-fine-item', {
      view : 'full',

      moneyFormat: function(value) {
        return '$' + (parseFloat(value) / 100) .toFixed(2);
      },

      showDetails : function () {
        this.view = 'details';
        this.fire('on-show-details');
      }
    });

  </script>

</polymer-element>