<link rel="import" href="uql-loan-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<polymer-element name="uql-loans" attributes="loans view">

  <template>
    <link rel="stylesheet" href="/styles/uql-info.css">
    <div id="teaser" hidden?="{{view != 'teaser'}}">
      <paper-item icon="alarm" on-click="{{toggleView}}" horizontal>
        <span flex>My loans ({{ loans.length }})</span>
        <core-icon icon="chevron-right" horizontal layout end></core-icon>
      </paper-item>
    </div>

    <div id="full" hidden?="{{view != 'full'}}">
      <div class="itemsList" block?="{{ loans.length > 0 }}">
        <template repeat="{{ loan in loans }}">
          <div class="listItem">
            <uql-loan-item item="{{loan}}" view="{{view}}"></uql-loan-item>
          </div>
        </template>
      </div>
    </div>


  </template>

  <script>
    Polymer('uql-loans', {

      toggleView : function(event, detail, sender) {
        this.fire('toggle-view', {source : 'loans'});
        return false;
      }

    });

  </script>

</polymer-element>